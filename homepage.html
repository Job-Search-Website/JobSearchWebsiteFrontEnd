
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>翻页</title>
  <style type="text/css">
    #ul1 {position: absolute;
    padding-top: 40px;
    padding-right: 40px;
    width: 300px;
      height: 100px;
      line-height: 15px;
      border: 1px solid red;
      background-color: bisque;
      margin-top: 30px;
    }

    
    #ol1 li{
      width: 300px;
      height: 100px;
      line-height: 15px;
      border: 1px solid red;
      background-color: bisque;
      margin-top: 30px;
    }
  </style>
</head>
<body text="blue" style="background-repeat:no-repeat;
      background-size:cover;background-color: #47C4ED; ">
<ul id="ul1">
  <li>
    <form  action="qiuzhijiayouzhan_login.html" >
      <input type="submit" value="登入">
      </form>
     </li>
  <li>
    <form  action="qiuzhijiayouzhan_register.html" >
    <input type="submit" value="注册">
    </form>
  </li>
</ul>
    
  <div style="border: 1 solid red;padding-top: 120px;padding-left: 400px;">
    <ol id="ol1">
      
    </ol>
    <div style="position: absolute; left: 600px;top: 600px;">
      <button class="pageChange" pageNum="0">第一页</button>
      <button class="pageChange" pageNum="1">第二页</button>
      <button class="pageChange" pageNum="2">第三页</button>
    </div>
  </div>
  <script type="text/javascript">
    window.onload = function () 
    {
    
 
      var oOl = document.getElementById('ol1');
      var outStr = "";
      
      oOl.innerHTML = outStr;
      var xmlhttp=new XMLHttpRequest();
                xmlhttp.onreadystatechange=function()
	            {
		            if (xmlhttp.readyState==4 && xmlhttp.status==200)
		            {
                        var json_xmlhttp=JSON.parse(xmlhttp.responseText);
                        outStr = "";
                        for (var i = 0; i < 3; i++) { 
                              outStr += '<li><span>' + json_xmlhttp.msg[i].email + '</span></li>';
                        }
                         oOl.innerHTML = outStr;
		            }
	            }
                xmlhttp.open("GET","http://localhost:8080/api/hr/hr_list?page=0&number=3",true);
                xmlhttp.send(); 
      
      // 实现翻页功能
      var pageNum
      var aBtn = document.getElementsByClassName('pageChange');
      for (var j = 0; j < aBtn.length; j++) { 
        aBtn[j].onclick = function (event) {                     
          outStr = "";
          oOl.innerHTML = outStr;
          pageNum = event.target.getAttribute("pageNum");
          var xmlhttp=new XMLHttpRequest();
                xmlhttp.onreadystatechange=function()
	            {
		            if (xmlhttp.readyState==4 && xmlhttp.status==200)
		            {
                  var json_xmlhttp=JSON.parse(xmlhttp.responseText);
                        outStr = "";
                        for (var i = 0; i < 3; i++) { 
                              outStr += '<li><span>' + json_xmlhttp.msg[i].email + '</span></li>';
                        }
                         oOl.innerHTML = outStr;
		            }
	            }
                xmlhttp.open("GET","http://localhost:8080/api/hr/hr_list?page="+pageNum+"&number=3",true);
                xmlhttp.send(); 
          
        }
      }
    }
  </script>
</body>
</html>
